@model movie_hospital_1.dataModel.Movie

<div class="container mt-4">
    <div class="card shadow-lg p-4">
        <div class="row">
            <!-- صورة السينما -->
            <div class="col-md-4 text-center">
                @if (!string.IsNullOrEmpty(Model.Cinema?.ImageURL))
                {
                    <img src="@Model.Cinema.ImageURL" alt="@Model.Cinema.Name"
                         class="img-fluid rounded-4 shadow-sm"
                         style="max-height: 400px; object-fit: cover;">
                }
                else
                {
                    <img src="~/images/no-image.jpg" alt="No Cinema Image"
                         class="img-fluid rounded-4 shadow-sm"
                         style="max-height: 400px; object-fit: cover;">
                }

                <div class="mt-3 text-start">
                    <h5 class="fw-bold">@Model.Cinema?.Name</h5>
                    <p class="mb-1"><strong>Location:</strong> @Model.Cinema?.Location</p>
                    <p class="text-muted"><small>@Model.Cinema?.ImageURL</small></p>
                </div>
            </div>

            <!-- تفاصيل الفيلم -->
            <div class="col-md-8">
                <h2 class="fw-bold">@Model.Title</h2>
                <p class="text-muted">@Model.Description</p>

                <p>
                    <strong>Category:</strong> @Model.Category?.Name
                </p>

              @*   <p>
                    <strong>Status:</strong>
                    <span class="badge bg-@(Model.Status == "Available" ? "success" : "secondary")">
                        @Model.Status
                    </span>
                </p> *@

                <hr />

                <h5 class="mt-3"><strong>Actors:</strong></h5>

                @if (Model.MovieActors != null && Model.MovieActors.Any())
                {
                    <div class="d-flex flex-wrap gap-3 mt-2">
                        @foreach (var ma in Model.MovieActors)
                        {
                            <div class="text-center">
                                <img src="@ma.Actor?.ProfilePicture"
                                     alt="@ma.Actor?.Name"
                                     class="rounded-circle shadow-sm"
                                     style="width: 80px; height: 80px; object-fit: cover; border: 3px solid #ddd;">
                                <p class="mt-2 fw-semibold" style="font-size: 0.9rem;">
                                    @ma.Actor?.Name
                                </p>
                            </div>
                        }
                    </div>
                }
                else
                {
                    <p class="text-muted">No actors for this movie.</p>
                }

                <div class="mt-4">
                    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary me-2">Edit</a>
                    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
                </div>
            </div>
        </div>
    </div>
</div>
